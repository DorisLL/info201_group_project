)
selected_data <- filter(data, data$Year >= input$years[1], data$Year <= input$years[2],
data$Neighborhood == input$allneighborhood,
data$Crime.Subcategory == input$allsubcat
)
selected_data <- filter(data, data$Year >= input$years[1], data$Year <= input$years[2],
input$allneighborhood,
input$allsubcat
)
runApp()
selected_data <- filter(data, data$Year >= input$years[1], data$Year <= input$years[2],
Neighborhood %in% input$allneighborhood,
Crime.Subcategory %in% input$allsubcat
)
runApp()
runApp()
View(test_selected)
View(data_use)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
View(data_use)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
#_____________________________________
test_group <- c("ALKI", "ALASKA JUNCTION", "BITTERLAKE")
data_use <- filter(data, Neighborhood %in% test_group)
View(data_use)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"))
test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
# data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"))
test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
View(test_selected)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") && data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
View(test_selected)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") & data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
View(test_selected)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") && data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY")|| data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
View(test_selected)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") && data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
View(test_selected)
return()
runApp()
runApp()
runApp()
runApp()
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") && data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY") && data$Crime.Subcategory)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"))
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"))
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"))
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
View(data_use)
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "UNIVERSITY"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
View(data_use)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2010, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
ggplot(data_use, aes(Occurred.Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
ggplot(data, aes(Occurred.Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
data_use <- filter(data, Neighborhood %in% test_group)
ggplot(data_use, aes(Occurred.Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
ggplot(data_use, aes(Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
View(data_use)
#_____________________________________
test_group <- c("ALKI", "ALASKA JUNCTION", "BITTERLAKE")
data_use <- filter(data, Neighborhood %in% test_group)
ggplot(data_use, aes(Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________________________________
test_group <- c("ALKI", "ALASKA JUNCTION")
data_use <- filter(data, Neighborhood %in% test_group)
ggplot(data_use, aes(Year, n, group = Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL"),
#   data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#  test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
# data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
# )
#   test_use <- selected_data %>%
#     group_by(Year)
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
})
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL")#,
#   data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#  test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
# data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL")#,
#   data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#  test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
# data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
View(test_selected)
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
View(data_use)
library(shiny)
library(ggplot2)
library(dplyr)
data <- read.csv(file = "data/updated_crime_data.csv")
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL")#,
#   data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#  test_selected2 <- filter(test_selected, data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
# data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL")
)
#________________
data_use <- test_selected %>%
group_by(Year, Neighborhood)
data_use <- group_by(test_selected, Year, Neighborhood)
count(data_use)
#________________
data_use <- group_by(test_selected, Year, Neighborhood) +
count()
#________________
data_use <- count(group_by(test_selected, Year, Neighborhood))
View(data_use)
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- count(group_by(test_selected, Year, Neighborhood))
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
View(test_selected)
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- count(group_by(test_selected, Year, Neighborhood))
View(data_use)
#_____________
test_selected <- filter(data, data$Year >= 2016, data$Year <= 2018,
data$Neighborhood %in% c("PIONEER SQUARE", "CAPITOL HILL", "FIRST HILL"),
data$Crime.Subcategory %in% c("AGGRAVATED ASSAULT", "CAR PROWL"))
#________________
data_use <- count(group_by(test_selected, Year, Neighborhood))
ggplot(data_use, aes(Year, n, group = data_use$Neighborhood)) +
geom_line(aes(col = Neighborhood)) +
geom_point()
selected_data <- filter(data, data$Year >= input$years[1], data$Year <= input$years[2],
data$Neighborhood %in% input$allneighborhood
data$Crime.Subcategory %in% input$allsubcat
)
selected_data <- filter(data, data$Year >= input$years[1], data$Year <= input$years[2],
data$Neighborhood %in% input$allneighborhood,
data$Crime.Subcategory %in% input$allsubcat
)
runApp()
runApp()
shiny::runApp()
test <- c("APPLE", "AYUNGA", "WANGXI", "ZHENGYUNLONG")
tolower(test)
casefold(test)
test
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp('~/Desktop/Info201/hw-info201/info201_group_project/crime_in_seattle')
shiny::runApp()
shiny::runApp()
crime_data <- read.csv('data/updated_crime_data.csv', stringsAsFactors = FALSE) %>% data.frame()
View(crime_data)
runApp()
runApp()
runApp()
runApp()
#_____________________________________
selected_data <- filter(crime_data, crime_data$Year >= 2010, crime_data$Year <= 2017,
crime_data$Precinct %in% c("WEST", "NORTH", "SOUTH"),
crime_data$Crime.Subcategory %in% c("CAR PROWL", "WEAPON", "TRESPASS")
)
View(selected_data)
data_use <- count(group_by(selected_data, Year, Precinct))
View(data_use)
ggplot(data_use, aes(Year, n, group = data_use$Precinct)) +
ggtitle("Seattle Crime Rates") +
xlab("Year") + ylab("Rate of Crime") +
geom_line(aes(col = Precinct)) +
geom_point()
runApp()
runApp()
runApp()
runApp()
test <- count(group_by(data_use, Year))
View(test)
test <- count(group_by(data_use, Year, n))
test <- count(group_by(data_use, Year, sum(n)))
test <- count(group_by(data_use, Precinct, sum(n)))
test <- group_by(data_use, Precinct, sum(n))
test <- group_by(data_use, Precinct)
test <- data_use %>%
group_by(Precinct) %>%
summarise(sum(n))
max(test$sum(n))
max(test$`sum(n)`)
test(1)
min(test$`sum(n)`)
one <- filter(test, test$`sum(n)` == min(test$`sum(n)`))
one
one <- filter(test, test$`sum(n)` == min(test$`sum(n)`))$Precinct
one
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
library(lubridate)
# Data Cleaning + Manipulation Changes
library(lubridate)
library(dplyr)
# Read in Data to work with
crime_data <- read.csv('data/Crime_Data.csv') %>% data.frame()
# Remove the 'UNKNOWN' neighborhood
crime_data <- crime_data %>% filter(Neighborhood != 'UNKNOWN')
crime_data <- crime_data %>% filter(Precinct != 'UNKNOWN')
# Change Date Formats
crime_data$Occurred.Date <- as.Date(crime_data$Occurred.Date, format = "%m/%d/%Y")
crime_data$Day <- crime_data$Occurred.Date %>% day()
crime_data$Month <- crime_data$Occurred.Date %>% month()
crime_data$Year <- crime_data$Occurred.Date %>% year()
# Year > 2008 to remove outliers
crime_data <- filter(crime_data, crime_data$Year > 2007)
# Select only needed variables
crime_data <- crime_data %>% select("Month", "Day", "Year", "Occurred.Time", "Crime.Subcategory", "Neighborhood", "Precinct")
# Fix Time
crime_data$Occurred.Time <- as.POSIXlt(crime_data$Occurred.Time, format="%H:%M")$hour
crime_data$Occurred.Time[is.na(crime_data$Occurred.Time)] <- 0
# Function to remove long category and retain only the main category
main_category <- function(word){
vector <- strsplit(word, "-")
value <- vector[[1]]
main_value <- value[1]
}
# Apply main_category function to column
crime_data$Crime.Subcategory <- crime_data$Crime.Subcategory %>% as.character() %>% lapply(main_category)
crime_data <- crime_data %>% as.matrix()
# Write to update csv
write.csv(crime_data, file = "data/updated_crime_data.csv", row.names = FALSE)
runApp()
runApp()
runApp()
shiny::runApp()
crime_data <- read.csv('data/updated_crime_data.csv', stringsAsFactors = FALSE) %>% data.frame()
View(crime_data)
# Remove the 'UNKNOWN' precinct
crime_data <- crime_data %>% filter(Precinct != '')
# Change Date Formats
crime_data$Occurred.Date <- as.Date(crime_data$Occurred.Date, format = "%m/%d/%Y")
# Data Cleaning + Manipulation Changes
library(lubridate)
library(dplyr)
# Read in Data to work with
crime_data <- read.csv('data/Crime_Data.csv') %>% data.frame()
# Remove the 'UNKNOWN' neighborhood
crime_data <- crime_data %>% filter(Neighborhood != 'UNKNOWN')
crime_data <- crime_data %>% filter(Precinct != 'UNKNOWN')
# Remove the 'UNKNOWN' precinct
crime_data <- crime_data %>% filter(Precinct != '')
# Change Date Formats
crime_data$Occurred.Date <- as.Date(crime_data$Occurred.Date, format = "%m/%d/%Y")
crime_data$Day <- crime_data$Occurred.Date %>% day()
crime_data$Month <- crime_data$Occurred.Date %>% month()
crime_data$Year <- crime_data$Occurred.Date %>% year()
# Year > 2008 to remove outliers
crime_data <- filter(crime_data, crime_data$Year > 2007)
# Select only needed variables
crime_data <- crime_data %>% select("Month", "Day", "Year", "Occurred.Time", "Crime.Subcategory", "Neighborhood", "Precinct")
# Fix Time
crime_data$Occurred.Time <- as.POSIXlt(crime_data$Occurred.Time, format="%H:%M")$hour
crime_data$Occurred.Time[is.na(crime_data$Occurred.Time)] <- 0
# Function to remove long category and retain only the main category
main_category <- function(word){
vector <- strsplit(word, "-")
value <- vector[[1]]
main_value <- value[1]
}
# Apply main_category function to column
crime_data$Crime.Subcategory <- crime_data$Crime.Subcategory %>% as.character() %>% lapply(main_category)
crime_data <- crime_data %>% as.matrix()
# Write to update csv
write.csv(crime_data, file = "data/updated_crime_data.csv", row.names = FALSE)
crime_data <- read.csv('data/updated_crime_data.csv', stringsAsFactors = FALSE) %>% data.frame()
View(crime_data)
runApp()
crime_data$Occurred.Time <- as.POSIXct(sprintf("%04d", crime_data$Occured.Time), format = "%H%M")
# Year > 2008 to remove outliers
crime_data <- filter(crime_data, crime_data$Year > 2007)
# Data Cleaning + Manipulation Changes
library(lubridate)
library(dplyr)
# Read in Data to work with
crime_data <- read.csv('data/Crime_Data.csv') %>% data.frame()
# Remove the 'UNKNOWN' neighborhood
crime_data <- crime_data %>% filter(Neighborhood != 'UNKNOWN')
crime_data <- crime_data %>% filter(Precinct != 'UNKNOWN')
# Remove the 'UNKNOWN' precinct
crime_data <- crime_data %>% filter(Precinct != '')
# Change Date Formats
crime_data$Occurred.Date <- as.Date(crime_data$Occurred.Date, format = "%m/%d/%Y")
crime_data$Day <- crime_data$Occurred.Date %>% day()
crime_data$Month <- crime_data$Occurred.Date %>% month()
crime_data$Year <- crime_data$Occurred.Date %>% year()
# Year > 2008 to remove outliers
crime_data <- filter(crime_data, crime_data$Year > 2007)
# Select only needed variables
crime_data <- crime_data %>% select("Month", "Day", "Year", "Occurred.Time", "Crime.Subcategory", "Neighborhood", "Precinct")
# Fix Time
#crime_data$Occurred.Time <- as.POSIXlt(crime_data$Occurred.Time, format="%H:%M")$hour
#crime_data$Occurred.Time[is.na(crime_data$Occurred.Time)] <- 0
crime_data$Occurred.Time <- as.POSIXct(sprintf("%04d", crime_data$Occured.Time), format = "%H%M")
# Function to remove long category and retain only the main category
main_category <- function(word){
vector <- strsplit(word, "-")
value <- vector[[1]]
main_value <- value[1]
}
# Apply main_category function to column
crime_data$Crime.Subcategory <- crime_data$Crime.Subcategory %>% as.character() %>% lapply(main_category)
crime_data <- crime_data %>% as.matrix()
# Write to update csv
write.csv(crime_data, file = "data/updated_crime_data.csv", row.names = FALSE)
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('C:/Users/Krisha/OneDrive/UW/FALL 2018/INFO 201/Delete')
runApp('C:/Users/Krisha/OneDrive/UW/FALL 2018/INFO 201/Delete')
runApp('C:/Users/Krisha/OneDrive/UW/FALL 2018/INFO 201/Delete')
runApp('C:/Users/Krisha/OneDrive/UW/FALL 2018/INFO 201/Delete')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('C:/Users/Krisha/OneDrive/UW/FALL 2018/INFO 201/Delete')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
runApp()
